import{I as B,J as D,P as g,a as P,A as R,r as t,j as e,Y as z,_ as b,B as M}from"./index-DoP6QDOR.js";import{u as Y,A as Z,a as $,B as H,P as L}from"./Branches-DTPMCHs-.js";import{I as Q,C as W}from"./CircularProgress-BT1b9W5g.js";import{B as J}from"./Backdrop-BWLpRAis.js";import"./useFetchAddress-DRDtBvn-.js";import"./index-DN4iNVZL.js";import"./esm-p0kxiW-h.js";import"./index-Dsr6fPXb.js";import"./index-BMtFW3Ln.js";import"./ButtonBase-DGwyqN4u.js";const U=B().shape({gstNumber:D().nullable().notRequired().test("is-valid-gst","GST Number must be 15 characters",function(s){return s?s.length===15:!0}).test("valid-gst-format","Invalid GST Number format",function(s){return s?/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(s):!0})}),I=({instruction:s,paymentMethod:l,selectedAddId:i,selectedBranchId:o,setNoSelection:j})=>{const f=P(r=>r.setting.settings),{estimate_delivery_normal_day:y}=f,v=R(),[a,n]=t.useState(!1),{placeOrder:p,loading:c}=Y(),[m,x]=t.useState(!1),[d,N]=t.useState(24),[_,A]=t.useState(""),[u,E]=t.useState(""),[S,k]=t.useState(""),[h,F]=t.useState(!1),[T,w]=t.useState(!1),O=async()=>{try{await U.validate({gstNumber:u}),k("")}catch(G){k(G.message);return}const C=await p({items:[],sub_total:0,description:s,normal_delivery_charges:0,payment_type:l,address_id:i,express_delivery_charges:0,express_delivery_hour:a?d:void 0,transaction_id:"",paid_amount:0,branch_id:o,is_quick_order:!0,gst_company_name:(_||"")??"",gstin:(u||"")??""});C&&v("/order",{state:{result:C,paymentMethod:l}})},q=()=>{if(o||j(!0),!l&&!i&&!o){b.error("Please select Shipping Address, Branch and Payment Method ",{className:"toast-error"});return}if(!i){b.error("Please select Shipping Address",{className:"toast-error"});return}if(!o){b.error("Please select branch name",{className:"toast-error"});return}if(!l){b.error("Please select Payment Method",{className:"toast-error"});return}l&&i&&o&&w(!0)};return t.useEffect(()=>{x(!!c)},[c]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h4",{className:"cart-title cart-cart-title",children:"Order Summary"}),e.jsxs("div",{className:"px-12 py-12 flex flex-col gap-12 laptop-l:gap-10 laptop-l:p-10 laptop-md:px-6 laptop-md:py-8 laptop-md:gap-8 laptop:p-6 tab-l:px-4 tab-l:gap-7 cart-summary tab-m:p-6 tab-m:gap-8 mb-l:px-8 mb:p-4",children:[e.jsxs("div",{className:"place-center",children:[e.jsx("p",{children:"Sub Total"}),e.jsxs("h5",{children:["â‚¹",0]})]}),e.jsxs("div",{className:"place-center",children:[e.jsx("p",{children:"Shipping Charge"}),e.jsxs("h5",{children:["â‚¹",0]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"place-center relative",children:[e.jsxs("div",{className:"flex justify-center items-center gap-3",children:[e.jsx("p",{children:"Express Delivery Charge"}),a&&e.jsxs("div",{className:"relative group my-[-6px]",children:[e.jsx(Q,{onClick:()=>n(!1),children:e.jsx(z,{className:"h-9 w-9 fill-[var(--secondary)] laptop-md:h-7 laptop-md:w-7 laptop:h-6 laptop:w-6"})}),e.jsxs("div",{role:"tooltip",className:"absolute z-10 invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-[var(--secondary)] text-white rounded-md shadow-sm px-3 py-2 text-lg text-nowrap -top-12 left-1/2 -translate-x-1/2 laptop-md:text-base laptop-md:-top-10 laptop-md:rounded-sm",children:["remove",e.jsx("div",{className:"tooltip-arrow","data-popper-arrow":!0})]})]})]}),!a&&e.jsx("button",{className:"edc-btn",onClick:()=>n(!0),children:"add"})]}),a&&e.jsx("div",{className:"mt-4 laptop-l:text-[1.4rem] laptop-md:text-[1.3rem] tab-l:text-[1.2rem]",children:e.jsxs("div",{className:"flex gap-x-8 items-center",children:[e.jsx("input",{type:"radio",name:"exp_hour",className:"radio",value:24,checked:d===24,onChange:()=>N(24)})," ",e.jsx("p",{children:"24 hour"}),e.jsx("input",{type:"radio",name:"exp_hour",className:"radio",value:48,checked:d===48,onChange:()=>N(48)}),e.jsx("p",{children:"48 hour"}),e.jsx("input",{type:"radio",name:"exp_hour",className:"radio",value:72,checked:d===72,onChange:()=>N(72)}),e.jsx("p",{children:"72 hour"})]})}),!a&&e.jsx("div",{className:"mt-2 text-secondary laptop-l:text-[1.4rem] laptop-md:text-[1.3rem] tab-l:text-[1.2rem]",children:e.jsx("i",{children:"Get your Delivery within 1-3 Days"})})]}),e.jsxs("div",{className:"custom-checkbox",children:[e.jsx("input",{id:"gstin_checkbox",type:"checkbox",value:h,onChange:()=>F(!h),checked:h,className:"mr-5 w-8 h-8 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-0 laptop-s:h-7 laptop-s:w-7"}),e.jsx("p",{children:e.jsx("label",{htmlFor:"gstin_checkbox",children:"Have a GSTIN ?"})})]}),h&&e.jsx("div",{className:"px-0 pb-0 flex flex-col gap-8",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6 laptop-l:gap-5 laptop-md:gap-4 laptop:grid-cols-2 tab-m:grid-cols-1",children:[e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("label",{htmlFor:"gst_company_name",children:"Company Name"})}),e.jsx("input",{id:"gst_company_name",type:"text",value:_,onChange:r=>A(r.target.value),placeholder:"Enter company name",className:"w-full border border-[#EFF3FF] rounded-xl text-[1.6rem] py-4 px-4 focus:border-indigo-500 focus:outline-none placeholder:text-[1.5rem] laptop-md:text-[1.4rem] laptop-md:p-3 laptop:text-[1.3rem] laptop:rounded-md"})]}),e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("label",{htmlFor:"gstin",children:"GSTIN"})}),e.jsx("input",{id:"gstin",type:"text",value:u,onChange:r=>E(r.target.value.toUpperCase()),placeholder:"Enter GST number",className:"w-full border border-[#EFF3FF] rounded-xl text-[1.6rem] py-4 px-4 focus:border-indigo-500 focus:outline-none placeholder:text-[1.5rem] laptop-md:text-[1.4rem] laptop-md:p-3 laptop:text-[1.3rem] laptop:rounded-md"}),S&&e.jsx("p",{className:"aam-error-label text-red-500 text-sm mt-1",children:S})]})]})}),e.jsxs("div",{className:"flex flex-col gap-5 laptop-l:gap-4 laptop:gap-3",children:[e.jsx("span",{className:"line"}),e.jsx("div",{className:"capitalize",children:e.jsx("span",{className:"block text-[1.8rem] leading-[1] text-primary laptop-l:text-[1.5rem] laptop-md:text-[1.4rem] laptop:text-[1.3rem] tab-m:text-[1.4rem]",children:a?`your product will be deilvered in ${d/24} day`:`your product will be deilvered in ${y} days`})}),e.jsx("span",{className:"line"})]}),e.jsxs("div",{className:"place-center total-container",children:[e.jsx("p",{children:"Total"}),e.jsxs("h5",{children:["â‚¹ ",0]})]}),e.jsx("button",{className:"checkout-btn",onClick:q,disabled:c,children:"Quick Order"}),T&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-10",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-6 p-10 animate-fade-in",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("svg",{className:"w-20 h-20 text-green-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4M12 21a9 9 0 100-18 9 9 0 000 18z"})})}),e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-4",children:"Are You Sure You Want to Place This Order?"}),e.jsx("p",{className:"text-center text-gray-600 text-lg leading-relaxed mb-8",children:"Once placed, this order will be processed for delivery and cannot be undone. Please review your selections before confirming."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:[e.jsx("button",{className:"px-8 py-3 text-xl font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition",onClick:()=>w(!1),children:"Cancel"}),e.jsx("button",{className:"px-8 py-3 text-xl font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition",onClick:()=>{w(!1),O()},children:"Yes, Place Order"})]})]})})]})]}),e.jsx(J,{sx:r=>({color:"#fff",zIndex:r.zIndex.drawer+1}),open:m,children:e.jsx(W,{color:"inherit"})})]})};I.propTypes={instruction:g.string.isRequired,paymentMethod:g.number.isRequired,selectedAddId:g.number.isRequired,selectedBranchId:g.number.isRequired};const xe=()=>{P(x=>x.cart.cartItemCount);const[s,l]=t.useState(""),[i,o]=t.useState(0),[j,f]=t.useState(0),[y,v]=t.useState(0),[a,n]=t.useState(!1),p=M(),[c,m]=t.useState(!1);return t.useEffect(()=>{p.pathname==="/quick-order"?m(!0):m(!1)},[p]),e.jsx("section",{className:"section-cart",children:e.jsx("div",{className:"cart-container",children:e.jsxs("div",{className:"flex justify-between items-start laptop-l:gap-28 laptop-md:gap-24 laptop-m:gap-20 laptop-s:gap-14 tab-m:gap-12 tab-m:flex-col tab-l:items-stretch",children:[e.jsx("div",{className:"basis-[65%] laptop-l:grow",children:e.jsxs("div",{className:"flex flex-col gap-24 laptop-l:gap-20 laptop-md:gap-16 laptop-m:gap-14 tab-l:gap-12 tab-s:gap-10",children:[e.jsx("div",{children:e.jsxs("h3",{className:"cart-sub-title",children:["âœ¨ Your clothes are collected directly from your address for maximum convenience. ðŸ§º"," "]})}),e.jsx(Z,{setSelectAddId:f}),e.jsx($,{instruction:s,setInstruction:l}),e.jsx(H,{setSelectedBranchId:v,noSelection:a,setNoSelection:n}),e.jsx(L,{setPayementMethod:o,isPickupClothes:c})]})}),e.jsxs("div",{className:"basis-[31%] relative sticky-summary laptop-l:basis-[28%] laptop-s:basis-[30%] tab-l:basis-[31%] tab-m:w-[35rem] mb-l:w-full",children:[e.jsx("div",{className:" border border-[#b9bccf4d] rounded-xl laptop-l:rounded-lg",children:e.jsx(I,{instruction:s,paymentMethod:i,selectedAddId:j,selectedBranchId:y,setNoSelection:n})}),e.jsxs("div",{role:"note","aria-label":"Note",className:"para2 mt-5 text-[1.6rem] text-gray-700 dark:text-gray-300 italic",children:[e.jsx("strong",{className:"not-italic font-semibold text-red-500",children:"Note:"}),"Â  All prices are subject to change based on the quality of clothes and the required labor work."]})]})]})})})};export{xe as default};
