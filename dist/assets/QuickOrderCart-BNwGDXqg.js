import{P as u,a as N,A as w,r as s,j as e,X as k,_ as h,$ as C}from"./index-D4CicLxC.js";import{u as P,A as I,a as A,B as E,P as O}from"./Branches-Dk18WMOm.js";import{I as D,C as B}from"./CircularProgress-DM_BQUWc.js";import{B as R}from"./Backdrop-CRYVbhWX.js";import"./useFetchAddress-DagUw3kA.js";import"./index-Bi5b7eJ-.js";import"./esm-lEZTEy99.js";import"./index-D4If-5ui.js";import"./ButtonBase-zErIbDhM.js";const _=({instruction:p,paymentMethod:t,selectedAddId:l,selectedBranchId:r,setNoSelection:j})=>{const g=N(x=>x.setting.settings),{estimate_delivery_normal_day:v}=g,b=w(),[a,i]=s.useState(!1),{placeOrder:n,loading:o}=P(),[d,m]=s.useState(!1),[c,f]=s.useState(24),S=async()=>{if(r||j(!0),!t&&!l&&!r){h.error("Please select Shipping Address, Branch and Payment Method ",{className:"toast-error"});return}if(!l){h.error("Please select Shipping Address",{className:"toast-error"});return}if(!r){h.error("Please select branch name",{className:"toast-error"});return}if(!t){h.error("Please select Payment Method",{className:"toast-error"});return}const y=await n({items:[],sub_total:0,description:p,normal_delivery_charges:0,payment_type:t,address_id:l,express_delivery_charges:0,express_delivery_hour:a?c:void 0,transaction_id:"",paid_amount:0,branch_id:r,is_quick_order:!0});y&&b("/order",{state:{result:y,paymentMethod:t}})};return s.useEffect(()=>{m(!!o)},[o]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h4",{className:"cart-title cart-cart-title",children:"Order Summary"}),e.jsxs("div",{className:"px-12 py-12 flex flex-col gap-12 laptop-l:gap-10 laptop-l:p-10 laptop-md:px-6 laptop-md:py-8 laptop-md:gap-8 laptop:p-6 tab-l:px-4 tab-l:gap-7 cart-summary tab-m:p-6 tab-m:gap-8 mb-l:px-8 mb:p-4",children:[e.jsxs("div",{className:"place-center",children:[e.jsx("p",{children:"Sub Total"}),e.jsxs("h5",{children:["â‚¹",0]})]}),e.jsxs("div",{className:"place-center",children:[e.jsx("p",{children:"Shipping Charge"}),e.jsxs("h5",{children:["â‚¹",0]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"place-center relative",children:[e.jsxs("div",{className:"flex justify-center items-center gap-3",children:[e.jsx("p",{children:"Express Delivery Charge"}),a&&e.jsxs("div",{className:"relative group my-[-6px]",children:[e.jsx(D,{onClick:()=>i(!1),children:e.jsx(k,{className:"h-9 w-9 fill-[var(--secondary)] laptop-md:h-7 laptop-md:w-7 laptop:h-6 laptop:w-6"})}),e.jsxs("div",{role:"tooltip",className:"absolute z-10 invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-[var(--secondary)] text-white rounded-md shadow-sm px-3 py-2 text-lg text-nowrap -top-12 left-1/2 -translate-x-1/2 laptop-md:text-base laptop-md:-top-10 laptop-md:rounded-sm",children:["remove",e.jsx("div",{className:"tooltip-arrow","data-popper-arrow":!0})]})]})]}),!a&&e.jsx("button",{className:"edc-btn",onClick:()=>i(!0),children:"add"})]}),a&&e.jsx("div",{className:"mt-4 laptop-l:text-[1.4rem] laptop-md:text-[1.3rem] tab-l:text-[1.2rem]",children:e.jsxs("div",{className:"flex gap-x-8 items-center",children:[e.jsx("input",{type:"radio",name:"exp_hour",className:"radio",value:24,checked:c===24,onChange:()=>f(24)})," ",e.jsx("p",{children:"24 hour"}),e.jsx("input",{type:"radio",name:"exp_hour",className:"radio",value:48,checked:c===48,onChange:()=>f(48)}),e.jsx("p",{children:"48 hour"}),e.jsx("input",{type:"radio",name:"exp_hour",className:"radio",value:72,checked:c===72,onChange:()=>f(72)}),e.jsx("p",{children:"72 hour"})]})}),!a&&e.jsx("div",{className:"mt-2 text-secondary laptop-l:text-[1.4rem] laptop-md:text-[1.3rem] tab-l:text-[1.2rem]",children:e.jsx("i",{children:"Get your Delivery within 1-3 Days"})})]}),e.jsxs("div",{className:"flex flex-col gap-5 laptop-l:gap-4 laptop:gap-3",children:[e.jsx("span",{className:"line"}),e.jsx("div",{className:"capitalize",children:e.jsx("span",{className:"block text-[1.8rem] leading-[1] text-primary laptop-l:text-[1.5rem] laptop-md:text-[1.4rem] laptop:text-[1.3rem] tab-m:text-[1.4rem]",children:a?`your product will be deilvered in ${c/24} day`:`your product will be deilvered in ${v} days`})}),e.jsx("span",{className:"line"})]}),e.jsxs("div",{className:"place-center total-container",children:[e.jsx("p",{children:"Total"}),e.jsxs("h5",{children:["â‚¹ ",0]})]}),e.jsx("button",{className:"checkout-btn",onClick:S,disabled:o,children:"Quick Order"})]})]}),e.jsx(R,{sx:x=>({color:"#fff",zIndex:x.zIndex.drawer+1}),open:d,children:e.jsx(B,{color:"inherit"})})]})};_.propTypes={instruction:u.string.isRequired,paymentMethod:u.number.isRequired,selectedAddId:u.number.isRequired,selectedBranchId:u.number.isRequired};const K=()=>{N(m=>m.cart.cartItemCount);const[p,t]=s.useState(""),[l,r]=s.useState(0),[j,g]=s.useState(0),[v,b]=s.useState(0),[a,i]=s.useState(!1),n=C(),[o,d]=s.useState(!1);return s.useEffect(()=>{n.pathname==="/pickup-clothes"?d(!0):d(!1)},[n]),e.jsx("section",{className:"section-cart",children:e.jsx("div",{className:"cart-container",children:e.jsxs("div",{className:"flex justify-between items-start laptop-l:gap-28 laptop-md:gap-24 laptop-m:gap-20 laptop-s:gap-14 tab-m:gap-12 tab-m:flex-col tab-l:items-stretch",children:[e.jsx("div",{className:"basis-[65%] laptop-l:grow",children:e.jsxs("div",{className:"flex flex-col gap-24 laptop-l:gap-20 laptop-md:gap-16 laptop-m:gap-14 tab-l:gap-12 tab-s:gap-10",children:[e.jsx("div",{children:e.jsxs("h3",{className:"cart-sub-title",children:["âœ¨ Your clothes are collected directly from your address for maximum convenience. ðŸ§º"," "]})}),e.jsx(I,{setSelectAddId:g}),e.jsx(A,{instruction:p,setInstruction:t}),e.jsx(E,{setSelectedBranchId:b,noSelection:a,setNoSelection:i}),e.jsx(O,{setPayementMethod:r,isPickupClothes:o})]})}),e.jsx("div",{className:"basis-[31%] border border-[#b9bccf4d] rounded-xl sticky-summary relative laptop-l:basis-[28%] laptop-l:rounded-lg laptop-s:basis-[30%] tab-l:basis-[31%] tab-m:w-[35rem] mb-l:w-full",children:e.jsx(_,{instruction:p,paymentMethod:l,selectedAddId:j,selectedBranchId:v,setNoSelection:i})})]})})})};export{K as default};
