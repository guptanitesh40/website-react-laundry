import{n as B,m as h,p as I,o as c,q as y,r as d,t as S,j as R,v as $,w as C,B as f,_ as l}from"./index-B68ZiK9y.js";import{c as v}from"./createSimplePaletteValueFilter-bm0fmN_7.js";import{B as P}from"./ButtonBase-DIuLiCjE.js";function k(e){return B("MuiIconButton",e)}const x=h("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),T=e=>{const{classes:t,disabled:o,color:r,edge:n,size:a}=e,s={root:["root",o&&"disabled",r!=="default"&&`color${c(r)}`,n&&`edge${c(n)}`,`size${c(a)}`]};return C(s,k,t)},O=I(P,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.color!=="default"&&t[`color${c(o.color)}`],o.edge&&t[`edge${c(o.edge)}`],t[`size${c(o.size)}`]]}})(y(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:f(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),y(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(v()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(v()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:f((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${x.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),L=d.forwardRef(function(t,o){const r=S({props:t,name:"MuiIconButton"}),{edge:n=!1,children:a,className:s,color:p="default",disabled:i=!1,disableFocusRipple:u=!1,size:m="medium",...b}=r,g={...r,edge:n,color:p,disabled:i,disableFocusRipple:u,size:m},z=T(g);return R.jsx(O,{className:$(z.root,s),centerRipple:!0,focusRipple:!u,disabled:i,ref:o,...b,ownerState:g,children:a})}),A=()=>{const[e,t]=d.useState(!1),o="http://3.110.208.70:3000",r=localStorage.getItem("token");return{getTransactionId:async a=>{var s;if(!a){l.error("Amount is required to generate the transaction ID.",{className:"toast-error"});return}try{t(!0);const p=await fetch(`${o}/razorpay/create-order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({amount:a})}),i=await p.json();if(!p.ok){l.error("Failed to create order. Please try again.",{className:"toast-error"});return}return(s=i==null?void 0:i.data)==null?void 0:s.razorpay_order_id}catch{l.error("An error occurred while creating the order. Please check your connection.",{className:"toast-error"});return}finally{t(!1)}},loading:e}},U=()=>{const[e,t]=d.useState(!1),o="http://3.110.208.70:3000",r=localStorage.getItem("token");return{verifyPayement:async a=>{try{return t(!0),(await fetch(`${o}/razorpay/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(a)})).ok?{status:!0}:(l.success("Payment verification failed. Please try again later.",{className:"toast-error"}),{status:!1})}catch{return l.error("An error occurred while verifying the payment. Please check your connection.",{className:"toast-error"}),{status:!1}}finally{t(!1)}},loading:e}};export{L as I,U as a,A as u};
