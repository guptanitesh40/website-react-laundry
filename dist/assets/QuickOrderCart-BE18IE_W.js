import{G,I as O,P as g,a as k,A as D,r as t,j as e,X as R,_ as b,$ as q}from"./index-D2_0y8-t.js";import{u as B,A as $,a as Z,B as z,P as H}from"./Branches-DOAUw0ou.js";import{I as M,C as Q}from"./CircularProgress-DuVjyN8_.js";import{B as L}from"./Backdrop-Bnpox0mG.js";import"./useFetchAddress-BqjpTCZU.js";import"./index-BglOLjtx.js";import"./esm-CCngt0An.js";import"./index-XT1tLmIX.js";import"./ButtonBase-D1DSUTxf.js";const U=G().shape({gstNumber:O().nullable().notRequired().test("is-valid-gst","GST Number must be 15 characters",function(s){return s?s.length===15:!0}).test("valid-gst-format","Invalid GST Number format",function(s){return s?/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(s):!0})}),I=({instruction:s,paymentMethod:l,selectedAddId:i,selectedBranchId:o,setNoSelection:j})=>{const v=k(r=>r.setting.settings),{estimate_delivery_normal_day:f}=v,y=D(),[a,c]=t.useState(!1),{placeOrder:d,loading:n}=B(),[m,u]=t.useState(!1),[p,N]=t.useState(24),[S,P]=t.useState(""),[x,E]=t.useState(""),[_,w]=t.useState(""),[h,A]=t.useState(!1),T=async()=>{if(o||j(!0),!l&&!i&&!o){b.error("Please select Shipping Address, Branch and Payment Method ",{className:"toast-error"});return}if(!i){b.error("Please select Shipping Address",{className:"toast-error"});return}if(!o){b.error("Please select branch name",{className:"toast-error"});return}if(!l){b.error("Please select Payment Method",{className:"toast-error"});return}try{await U.validate({gstNumber:x}),w("")}catch(F){w(F.message);return}const C=await d({items:[],sub_total:0,description:s,normal_delivery_charges:0,payment_type:l,address_id:i,express_delivery_charges:0,express_delivery_hour:a?p:void 0,transaction_id:"",paid_amount:0,branch_id:o,is_quick_order:!0,company_name:(S||"")??"",gstin:(x||"")??""});C&&y("/order",{state:{result:C,paymentMethod:l}})};return t.useEffect(()=>{u(!!n)},[n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h4",{className:"cart-title cart-cart-title",children:"Order Summary"}),e.jsxs("div",{className:"px-12 py-12 flex flex-col gap-12 laptop-l:gap-10 laptop-l:p-10 laptop-md:px-6 laptop-md:py-8 laptop-md:gap-8 laptop:p-6 tab-l:px-4 tab-l:gap-7 cart-summary tab-m:p-6 tab-m:gap-8 mb-l:px-8 mb:p-4",children:[e.jsxs("div",{className:"place-center",children:[e.jsx("p",{children:"Sub Total"}),e.jsxs("h5",{children:["â‚¹",0]})]}),e.jsxs("div",{className:"place-center",children:[e.jsx("p",{children:"Shipping Charge"}),e.jsxs("h5",{children:["â‚¹",0]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"place-center relative",children:[e.jsxs("div",{className:"flex justify-center items-center gap-3",children:[e.jsx("p",{children:"Express Delivery Charge"}),a&&e.jsxs("div",{className:"relative group my-[-6px]",children:[e.jsx(M,{onClick:()=>c(!1),children:e.jsx(R,{className:"h-9 w-9 fill-[var(--secondary)] laptop-md:h-7 laptop-md:w-7 laptop:h-6 laptop:w-6"})}),e.jsxs("div",{role:"tooltip",className:"absolute z-10 invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-[var(--secondary)] text-white rounded-md shadow-sm px-3 py-2 text-lg text-nowrap -top-12 left-1/2 -translate-x-1/2 laptop-md:text-base laptop-md:-top-10 laptop-md:rounded-sm",children:["remove",e.jsx("div",{className:"tooltip-arrow","data-popper-arrow":!0})]})]})]}),!a&&e.jsx("button",{className:"edc-btn",onClick:()=>c(!0),children:"add"})]}),a&&e.jsx("div",{className:"mt-4 laptop-l:text-[1.4rem] laptop-md:text-[1.3rem] tab-l:text-[1.2rem]",children:e.jsxs("div",{className:"flex gap-x-8 items-center",children:[e.jsx("input",{type:"radio",name:"exp_hour",className:"radio",value:24,checked:p===24,onChange:()=>N(24)})," ",e.jsx("p",{children:"24 hour"}),e.jsx("input",{type:"radio",name:"exp_hour",className:"radio",value:48,checked:p===48,onChange:()=>N(48)}),e.jsx("p",{children:"48 hour"}),e.jsx("input",{type:"radio",name:"exp_hour",className:"radio",value:72,checked:p===72,onChange:()=>N(72)}),e.jsx("p",{children:"72 hour"})]})}),!a&&e.jsx("div",{className:"mt-2 text-secondary laptop-l:text-[1.4rem] laptop-md:text-[1.3rem] tab-l:text-[1.2rem]",children:e.jsx("i",{children:"Get your Delivery within 1-3 Days"})})]}),e.jsxs("div",{className:"custom-checkbox",children:[e.jsx("input",{id:"gstin",type:"checkbox",value:h,onChange:()=>A(!h),checked:h,className:"mr-5 w-8 h-8 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-0 laptop-s:h-7 laptop-s:w-7"}),e.jsx("label",{htmlFor:"gstin",children:"Have a GSTIN ?"})]}),h&&e.jsx("div",{className:"px-0 pb-0 flex flex-col gap-8",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6 laptop-l:gap-5 laptop-md:gap-4 laptop:grid-cols-2 tab-m:grid-cols-1",children:[e.jsxs("div",{children:[e.jsx("p",{children:"Company Name"}),e.jsx("input",{type:"text",value:S,onChange:r=>P(r.target.value),placeholder:"Enter company name",className:"w-full border border-[#EFF3FF] rounded-xl text-[1.6rem] py-4 px-4 focus:border-indigo-500 focus:outline-none placeholder:text-[1.5rem] laptop-md:text-[1.4rem] laptop-md:p-3 laptop:text-[1.3rem] laptop:rounded-md"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"GST Number"}),e.jsx("input",{type:"text",value:x,onChange:r=>E(r.target.value.toUpperCase()),placeholder:"Enter GST number",className:"w-full border border-[#EFF3FF] rounded-xl text-[1.6rem] py-4 px-4 focus:border-indigo-500 focus:outline-none placeholder:text-[1.5rem] laptop-md:text-[1.4rem] laptop-md:p-3 laptop:text-[1.3rem] laptop:rounded-md"}),_&&e.jsx("p",{className:"aam-error-label text-red-500 text-sm mt-1",children:_})]})]})}),e.jsxs("div",{className:"flex flex-col gap-5 laptop-l:gap-4 laptop:gap-3",children:[e.jsx("span",{className:"line"}),e.jsx("div",{className:"capitalize",children:e.jsx("span",{className:"block text-[1.8rem] leading-[1] text-primary laptop-l:text-[1.5rem] laptop-md:text-[1.4rem] laptop:text-[1.3rem] tab-m:text-[1.4rem]",children:a?`your product will be deilvered in ${p/24} day`:`your product will be deilvered in ${f} days`})}),e.jsx("span",{className:"line"})]}),e.jsxs("div",{className:"place-center total-container",children:[e.jsx("p",{children:"Total"}),e.jsxs("h5",{children:["â‚¹ ",0]})]}),e.jsx("button",{className:"checkout-btn",onClick:T,disabled:n,children:"Quick Order"})]})]}),e.jsx(L,{sx:r=>({color:"#fff",zIndex:r.zIndex.drawer+1}),open:m,children:e.jsx(Q,{color:"inherit"})})]})};I.propTypes={instruction:g.string.isRequired,paymentMethod:g.number.isRequired,selectedAddId:g.number.isRequired,selectedBranchId:g.number.isRequired};const ne=()=>{k(u=>u.cart.cartItemCount);const[s,l]=t.useState(""),[i,o]=t.useState(0),[j,v]=t.useState(0),[f,y]=t.useState(0),[a,c]=t.useState(!1),d=q(),[n,m]=t.useState(!1);return t.useEffect(()=>{d.pathname==="/pickup-clothes"?m(!0):m(!1)},[d]),e.jsx("section",{className:"section-cart",children:e.jsx("div",{className:"cart-container",children:e.jsxs("div",{className:"flex justify-between items-start laptop-l:gap-28 laptop-md:gap-24 laptop-m:gap-20 laptop-s:gap-14 tab-m:gap-12 tab-m:flex-col tab-l:items-stretch",children:[e.jsx("div",{className:"basis-[65%] laptop-l:grow",children:e.jsxs("div",{className:"flex flex-col gap-24 laptop-l:gap-20 laptop-md:gap-16 laptop-m:gap-14 tab-l:gap-12 tab-s:gap-10",children:[e.jsx("div",{children:e.jsxs("h3",{className:"cart-sub-title",children:["âœ¨ Your clothes are collected directly from your address for maximum convenience. ðŸ§º"," "]})}),e.jsx($,{setSelectAddId:v}),e.jsx(Z,{instruction:s,setInstruction:l}),e.jsx(z,{setSelectedBranchId:y,noSelection:a,setNoSelection:c}),e.jsx(H,{setPayementMethod:o,isPickupClothes:n})]})}),e.jsx("div",{className:"basis-[31%] border border-[#b9bccf4d] rounded-xl sticky-summary relative laptop-l:basis-[28%] laptop-l:rounded-lg laptop-s:basis-[30%] tab-l:basis-[31%] tab-m:w-[35rem] mb-l:w-full",children:e.jsx(I,{instruction:s,paymentMethod:i,selectedAddId:j,selectedBranchId:f,setNoSelection:c})})]})})})};export{ne as default};
