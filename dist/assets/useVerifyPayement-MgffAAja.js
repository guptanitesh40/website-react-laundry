import{r as l,_ as t}from"./index-BsBmtkww.js";const d=()=>{const[a,e]=l.useState(!1),o="http://35.154.167.170:3000",s=localStorage.getItem("token");return{getTransactionId:async r=>{var n;if(!r){t.error("Amount is required to generate the transaction ID.",{className:"toast-error"});return}try{e(!0);const i=await fetch(`${o}/razorpay/create-order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({amount:r})}),c=await i.json();if(!i.ok){t.error("Failed to create order. Please try again.",{className:"toast-error"});return}return(n=c==null?void 0:c.data)==null?void 0:n.razorpay_order_id}catch{t.error("An error occurred while creating the order. Please check your connection.",{className:"toast-error"});return}finally{e(!1)}},loading:a}},f=()=>{const[a,e]=l.useState(!1),o="http://35.154.167.170:3000",s=localStorage.getItem("token");return{verifyPayement:async r=>{try{return e(!0),(await fetch(`${o}/razorpay/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(r)})).ok?{status:!0}:(t.success("Payment verification failed. Please try again later.",{className:"toast-error"}),{status:!1})}catch{return t.error("An error occurred while verifying the payment. Please check your connection.",{className:"toast-error"}),{status:!1}}finally{e(!1)}},loading:a}};export{f as a,d as u};
