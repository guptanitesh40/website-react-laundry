import{_ as N,r as o,u as S,j as e,p as R,q as L,t as Y,v as I,w as P,x as M,y as T}from"./index-grspk_p5.js";import{d as F}from"./dayjs.min-Bz3CQiQS.js";import{a as U,b as m,c as p}from"./index--yQVpV3J.js";import{L as G}from"./Loading-BEzexJfm.js";const z=()=>{const u="http://35.154.167.170:3000",d=localStorage.getItem("token");return{getOrders:async()=>{try{const t=await fetch(`${u}/orders`,{method:"GET",headers:{Authorization:`Bearer ${d}`}}),h=await t.json();return t.ok?h.data:(N.error("Failed to fetch orders!"),!1)}catch{return N.error("Failed to fetch orders!"),!1}}}},H=()=>{const u="http://35.154.167.170:3000",d=localStorage.getItem("token");return{getOrders02:async(t,h="ASC",j="order_id")=>{try{const a=await fetch(`${u}/orders?sort_by=${j}&order=${h.toUpperCase()}&per_page=10&page_number=${t}`,{method:"GET",headers:{Authorization:`Bearer ${d}`}}),b=await a.json();return a.ok?b.data:(N.error("Failed to fetch orders!"),!1)}catch{return N.error("Failed to fetch orders!"),!1}}}},Q=()=>{const{getOrders:u}=z(),{getOrders02:d}=H(),[g,t]=o.useState([]),[h,j]=o.useState(!0),[a,b]=o.useState(0),[s,v]=o.useState(1),[y,E]=o.useState(0),[l,r]=o.useState(1),[k,w]=o.useState("asc"),_=S(),c=async i=>{j(!0),v(i);const n=await d(i);n&&(t(n.result),j(!1))},x=async i=>{if(k=="desc"){w("asc");const n=await d(s,k,i);n&&t(n.result)}else{w("desc");const n=await d(s,k,i);n&&t(n.result)}};return o.useEffect(()=>{(async()=>{const n=await u();n&&(E(n.count),b(Math.ceil(n.count/10)),t(n.result),j(!1))})()},[]),h?e.jsx(G,{}):e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"flex gap-14",children:[e.jsxs("div",{className:"status-card flex gap-8 items-center",children:[e.jsx("span",{className:"bg-[#FFE0EB] inline-block h-[6rem] w-[6rem] rounded-full",children:e.jsx(R,{className:"inline-block p-5 h-full w-full fill-[#FF82AC]"})}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("p",{className:"card-label",children:"Total Pending Due Amount"}),e.jsx("p",{className:"card-price",children:"₹250"})]})]}),e.jsxs("div",{className:"status-card flex gap-8 items-center",children:[e.jsx("span",{className:"bg-[#DCFAF8] inline-block h-[6rem] w-[6rem] rounded-full",children:e.jsx(U,{className:"inline-block p-7 h-full w-full fill-[#16DBCC]"})}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("p",{className:"card-label",children:"Lifetime Total Order Number"}),e.jsx("p",{className:"card-price",children:g.length||"0"})]})]}),e.jsxs("div",{className:"status-card flex gap-8 items-center",children:[e.jsx("span",{className:"bg-[#FEF7E7] inline-block h-[6rem] w-[6rem] rounded-full",children:e.jsx(L,{className:"inline-block p-6 h-full w-full fill-[#F2B413]"})}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("p",{className:"card-label",children:"Total In Progress Orders"}),e.jsx("p",{className:"card-price",children:"10"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx("h3",{className:"booking-title",children:"Your Booking List"}),e.jsxs("div",{className:"orders-table-container",children:[e.jsxs("table",{className:"orders-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{className:"flex items-center justify-center gap-2 cursor-pointer",onClick:()=>x("order_id"),children:[e.jsx("span",{children:"order id"}),e.jsxs("span",{className:"flex flex-col",children:[e.jsx(m,{className:"updown-icon"}),e.jsx(p,{className:"updown-icon"})]})]}),e.jsxs("th",{className:"flex items-center justify-center gap-2 cursor-pointer",onClick:()=>x("created_at"),children:[e.jsx("span",{children:"booking date"}),e.jsxs("span",{className:"flex flex-col",children:[e.jsx(m,{className:"updown-icon"}),e.jsx(p,{className:"updown-icon"})]})]}),e.jsxs("th",{className:"flex items-center justify-center gap-2 cursor-pointer",onClick:()=>x("estimated_delivery_time"),children:[e.jsx("span",{children:"delivery date"}),e.jsxs("span",{className:"flex flex-col",children:[e.jsx(m,{className:"updown-icon"}),e.jsx(p,{className:"updown-icon"})]})]}),e.jsxs("th",{className:"flex items-center justify-center gap-2 cursor-pointer",onClick:()=>x("total"),children:[e.jsx("span",{children:"amount"}),e.jsxs("span",{className:"flex flex-col",children:[e.jsx(m,{className:"updown-icon"}),e.jsx(p,{className:"updown-icon"})]})]}),e.jsxs("th",{className:"flex items-center justify-center gap-2 cursor-pointer",onClick:()=>x("kasar_amount"),children:[e.jsx("span",{children:"kasar"}),e.jsxs("span",{className:"flex flex-col",children:[e.jsx(m,{className:"updown-icon"}),e.jsx(p,{className:"updown-icon"})]})]}),e.jsxs("th",{className:"flex items-center justify-center gap-2 cursor-pointer",onClick:()=>x("paid_amount"),children:[e.jsx("span",{children:"paid amount"}),e.jsxs("span",{className:"flex flex-col",children:[e.jsx(m,{className:"updown-icon"}),e.jsx(p,{className:"updown-icon"})]})]}),e.jsxs("th",{className:"flex items-center justify-center gap-2 cursor-pointer",onClick:()=>x("order_status"),children:[e.jsx("span",{children:"status"}),e.jsxs("span",{className:"flex flex-col",children:[e.jsx(m,{className:"updown-icon"}),e.jsx(p,{className:"updown-icon"})]})]}),e.jsx("th",{children:e.jsx("span",{children:"View"})})]})}),e.jsx("tbody",{children:g.map((i,n)=>{const{order_id:C,total:O,created_at:D,estimated_delivery_time:$,kasar_amount:A,paid_amount:B,order_status:f}=i;return e.jsxs("tr",{children:[e.jsx("td",{children:C}),e.jsx("td",{children:F(D).format("DD/MM/YYYY, hh:mm A")}),e.jsx("td",{children:F($).format("DD/MM/YYYY")}),e.jsxs("td",{children:["₹",O]}),e.jsxs("td",{children:["₹",A]}),e.jsx("td",{children:B||"₹0"}),e.jsxs("td",{style:{padding:"5px",textAlign:"left"},className:"flex items-center justify-center",children:[f==1&&e.jsx("span",{className:"inline-block px-4 rounded-xl bg-[#FEF7E7] text-[#F2B413] font-medium text-[1rem] leading-[2.4rem]",children:"Order Confirmed"}),f==2&&e.jsx("span",{className:"inline-block px-4 rounded-xl bg-[#E8E9EF] text-[#161F5F] font-medium text-[1rem] leading-[2.4rem]",children:"In Process"}),f==3&&e.jsx("span",{className:"inline-block px-4 rounded-xl bg-[#FAEEE7] text-[#CC5511] font-medium text-[1rem] leading-[2.4rem]",children:"Picked Up"}),f==4&&e.jsx("span",{className:"inline-block px-4 rounded-xl bg-[#EBF8FB] text-[#39B8D3] font-medium text-[1rem] leading-[2.4rem]",children:"Out for Delivery"}),f==5&&e.jsx("span",{className:"inline-block px-4 rounded-xl bg-[#EBFBF1] text-[#39D377] font-medium text-[1rem] leading-[2.4rem]",children:"Delivered"})]}),e.jsx("td",{style:{padding:"5px"},className:"flex items-center justify-center",children:e.jsx(Y,{className:"inline-block h-8 w-8 cursor-pointer",onClick:()=>_("/dashboard/view-order",{state:{order_id:C}})})})]},n)})})]}),e.jsxs("div",{className:"bg-white flex items-center justify-between px-8",children:[e.jsxs("p",{className:"current-page-num",children:["Showing ",s===1&&"1"||(s-1)*10+1," ","to ",s===a?y:s*10," entries"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{className:`pagination-btn ${l===-2&&"active-page"}`,onClick:()=>{s!==1&&(c(1),r(-2))},children:e.jsx(I,{className:"page-icon"})}),e.jsx("button",{className:`pagination-btn ${l===-1&&"active-page"}`,onClick:()=>{s!==1&&(c(s-1),r(-1))},children:e.jsx(P,{className:"page-icon"})}),e.jsx("button",{className:`pagination-btn ${l===1&&"active-page"}`,onClick:()=>{s!==1&&(c(1),r(1))},children:e.jsx("span",{className:"page-num",children:"1"})}),a>1&&e.jsx("button",{className:`pagination-btn ${l===2&&"active-page"}`,onClick:()=>{s!==2&&(c(2),r(2))},children:e.jsx("span",{className:"page-num",children:"2"})}),a>2&&e.jsx("button",{className:`pagination-btn ${l===3&&"active-page"}`,onClick:()=>{s!==3&&(c(3),r(3))},children:e.jsx("span",{className:"page-num",children:"3"})}),a>3&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"pagination-btn border-transparent",children:e.jsx("span",{className:"page-num",children:"..."})}),e.jsx("button",{className:`pagination-btn ${l===a&&"active-page"}`,onClick:()=>{s!==a&&(c(a),r(a))},children:e.jsx("span",{className:"page-num",children:a})})]}),e.jsx("button",{className:`pagination-btn ${l===100&&"active-page"}`,children:e.jsx(M,{className:"page-icon",onClick:()=>{s!==a&&(c(s+1),r(100))}})}),e.jsx("button",{className:`pagination-btn ${l===200&&"active-page"}`,children:e.jsx(T,{className:"page-icon",onClick:()=>{s!==a&&(c(a),r(200))}})})]})]})]})]})]})};export{Q as default};
